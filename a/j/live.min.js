var fwCore=fwCore||{};fwCore.launch=function(){function a(){$("html").removeClass("noJS"),b(),fwCore.scrollToTop.init()}function b(){if(fwCore.settings.offScreenMenu){var a=$("body");$(".toggleMenuOn, .toggleMenuOff").on("click",function(b){b.stopPropagation(),b.preventDefault(),a.hasClass("showMenu")?(a.removeClass("showMenu"),$(document).off("click.menuVisible")):(a.addClass("showMenu"),$(document).on("click.menuVisible",function(a){a.preventDefault(),$(".toggleMenuOn").trigger("click")}))})}}return{init:a}}(),fwCore.scrollToTop=function(){function a(){b($(".backToTop"),$("#top"),1e3)}function b(a,b,c){a.on("click",function(a){a.preventDefault(),$("html, body, document").animate({scrollTop:b.offset().top},c)})}return{init:a,scrollTo:b}}(),$(document).ready(function(){fwCore.launch.init(),$(".devButton").on("click",function(a){a.preventDefault(),fwCore.modalWindow.init($(this))})});var fwCore=fwCore||{};fwCore.modalWindow=function(){function a(a){var c="modalWindow";a.data("container-id")&&(c=a.data("container-id")),fwCore.settings.pluginsInit.modalWindow||(fwCore.utilities.pageWash.init(),fwCore.settings.pluginsInit.modalWindow=!0),fwCore.utilities.pageWash.show(),d(c),windowDOM=$("#"+c),b(windowDOM,a),f(windowDOM,a)}function b(a,b){a.removeAttr("style");var c="bottom: 5%; height: auto; overflow-y: auto; position: fixed; top: 5%; *position: absolute; *height: 90%;",d="position: absolute; top: "+(50+$(window).scrollTop())+"px; *height: 90%; *overflow-y: auto;";a.attr("fullHeightFixed"==b.data("position")?{style:c}:{style:d}),a.show(),$.event.trigger({type:"fwModalWindow",event:"loading",id:a.attr("id")})}function c(a){a.hide(),$.event.trigger({type:"fwModalWindow",event:"closed",id:a.attr("id")}),$(".modalContent",a).html(e())}function d(a){function b(a){var b="";b+='<div id="'+a+'" class="modalWindow">',b+='  <div class="modalClose">',b+='    <a href="" class="closeWindow">Close window</a>',b+="  </div>",b+='  <div class="modalContent">',b+=e(),b+="  </div>",b+='  <div class="modalFooter">',b+='    <a href="" class="visuallyHidden closeWindow">Close window</a>',b+='    <a href="" class="visuallyHidden endOfWindow">Jump to top of window</a>',b+="  </div>",b+="</div>",$("body").append(b);{var d=$("#"+a);$(".modalContent",d)}$(document).on("fwPageWash",function(a){"off"==a.event&&c(d)}),$(".closeWindow",d).on("click",function(a){a.preventDefault();$(this);c(d),fwCore.utilities.pageWash.hide()}),$(".endOfWindow",d).on("click, focus",function(a){a.preventDefault(),$(".closeWindow:first",windowDOM).focus()})}a?$("#"+a).length<=0&&b(a):fwCore.settings.dom.modalWindow||(b("modalWindow"),fwCore.settings.dom.modalWindow=!0)}function e(){var a="";return a+="<p>Loading...</p>"}function f(a,b){function c(a,b,c){$(".modalContent",b).html(c),$.event.trigger({type:"fwModalWindow",event:a,id:b.attr("id")}),$(".closeWindow:first",b).focus()}if(b.data("ajax")){var d="";b.data("data")&&(d=b.data("data"));var e=$.ajax({url:b.data("ajax"),type:"GET",data:d,dataType:"html"});e.done(function(b){c("success",a,b)}),e.fail(function(){c("failed",a,"Sorry, we failed to load the content.")})}else b.data("content")?c("success",a,$("#"+b.data("content")).html()):c("failed",a,"Sorry, we failed to load the content.")}return{init:a}}();var fwCore=fwCore||{};fwCore.settings={offScreenMenu:!0,isSupported:{},dom:{pageWash:!1,modalWindow:!1},pluginsInit:{modalWindow:!1}},fwCore.utilities=function(){return pageWash=function(){function a(){if(!fwCore.settings.dom.pageWash){if($("#pageWash").length<=0){$("body").append('<div id="pageWash"></div>');var a=$("#pageWash");a.on("click",function(){c()})}fwCore.settings.dom.pageWash=!0}}function b(){$("body").addClass("pageWashOn"),$("body").on("keydown.hideWash",function(a){27==a.keyCode&&c()})}function c(){$.event.trigger({type:"fwPageWash",event:"off"}),$("body").removeClass("pageWashOn"),$("body").off("keydown.hideWash")}return{init:a,show:b,hide:c}}(),{pageWash:pageWash}}();